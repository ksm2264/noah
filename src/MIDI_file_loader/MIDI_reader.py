from mido import MidiFile\nimport logging\n\nlogger = logging.getLogger(__name__)\n\nclass MIDI_reader:\n    def __init__(self, file_path):\n        self.file_path = file_path\n\n    def parse_file(self):\n        mid = MidiFile(self.file_path)\n        time = 0\n        note_data = []\n\n        for msg in mid:\n            time += msg.time\n\n            if msg.type == 'note_on':\n                note_data.append({\n                    'note': msg.note,\n                    'velocity': msg.velocity,\n                    'time': time\n                })\n\n        logger.info(f"{self.file_path} parsed with {len(note_data)} notes")\n        return note_data\n\n    def get_metadata(self):\n        mid = MidiFile(self.file_path)\n\n        metadata = {\n            'tempo': mid.tempo,\n            'key_signature': mid.key_signature,\n            'time_signature': mid.time_signature\n        }\n\n        logger.info(f"Metadata from {self.file_path}: {metadata}")\n        return metadata\n\n\n